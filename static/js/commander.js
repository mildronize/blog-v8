import"./modulepreload-polyfill.js";import{g as u,o as m}from"./libs.js";import{s as y}from"./search-placeholder2.js";function h(r,s,a={disableTextInputs:!0}){let t=[];function i(e){const n=e.target,d=n instanceof HTMLTextAreaElement||n instanceof HTMLInputElement&&(!n.type||n.type==="text")||((n==null?void 0:n.isContentEditable)??!1);if(e.repeat)return;if(a.disableTextInputs&&d){e.stopPropagation();return}const l={Control:e.ctrlKey,Alt:e.altKey,Command:e.metaKey,Shift:e.shiftKey};if(r.includes("+")){const o=r.split("+");if(Object.keys(l).includes(o[0])){const f=o.pop();o.every(p=>l[p])&&f===e.key&&s(e)}else{if(o[t.length]===e.key){if(o[o.length-1]===e.key&&t.length===o.length-1){s(e),t=[];return}t=[...t,e.key];return}if(t.length>0){t=[];return}}}r===e.key&&s(e)}return window.addEventListener("keydown",i),{unregister:()=>{window.removeEventListener("keydown",i)}}}function c(){const r=document.querySelector("#placeholder-search-box");m(r,y)}function g(){Object.entries({"Control+p":c,"Command+p":c}).forEach(([a,t])=>{h(a,i=>{i.preventDefault(),t(i)})}),u("#search-header").addEventListener("click",c),console.log("Commander: Initialized")}g();
