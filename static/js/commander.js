import"./modulepreload-polyfill.js";import{c as y,s as f}from"./browser-logger.js";import{g as w,o as d}from"./libs.js";function L(t,s,l={disableTextInputs:!0}){let n=[];function c(e){const o=e.target,m=o instanceof HTMLTextAreaElement||o instanceof HTMLInputElement&&(!o.type||o.type==="text")||((o==null?void 0:o.isContentEditable)??!1);if(e.repeat)return;if(l.disableTextInputs&&m){e.stopPropagation();return}const p={Control:e.ctrlKey,Alt:e.altKey,Command:e.metaKey,Shift:e.shiftKey};if(t.includes("+")){const r=t.split("+");if(Object.keys(p).includes(r[0])){const u=r.pop();r.every(h=>p[h])&&u===e.key&&s(e)}else{if(r[n.length]===e.key){if(r[r.length-1]===e.key&&n.length===r.length-1){s(e),n=[];return}n=[...n,e.key];return}if(n.length>0){n=[];return}}}t===e.key&&s(e)}return window.addEventListener("keydown",c),{unregister:()=>{window.removeEventListener("keydown",c)}}}const a=y("commander");function i(){const t=document.querySelector("#placeholder-search-box");d(t,f)}function g(t){new URLSearchParams(window.location.search).get("q")!==null&&d(t,f)}function k(){return navigator.platform.toLowerCase().includes("mac")}function x(){return k()?"CMD + p":"CTRL + p"}function C(){const t=document.querySelector("#placeholder-search-box");g(t),Object.entries({"Control+p":i,"Command+p":i}).forEach(([n,c])=>{L(n,e=>{e.preventDefault(),c(e)})}),w("#search-header").addEventListener("click",i),a==null||a.info("Initialized"),a==null||a.info(`Press "${x()}" to open search popup`)}C();
