import"./modulepreload-polyfill.js";const s="404";function i(r){const e=new URL(r).pathname.replace(/\/$/,""),o=e.split("-");if(o.length>1)return o[o.length-1]===""?null:o[o.length-1];{const t=e.split("/");return t.length>1?t[t.length-1]===""?null:t[t.length-1]:null}}async function c(){if(typeof window>"u")return;const r=window.location.href;console.log(`Current URL: ${r}`);let n=null;const e=i(r);e&&(n=e,console.log(`Extracted ID from path: ${n}`));const t=new URL(r).searchParams.get("id");if(t&&(n=t,console.log(`Extracted ID from search params: ${n}`)),n===null){console.log("No ID found in the URL");return}console.log(`Extracted ID: ${n}`);const l=(await(await fetch("/api/id-mapper.json")).json())[n],a=new URL(l.path,window.location.origin);a.searchParams.set("src",s),l&&window.location.assign(a.toString())}c();
